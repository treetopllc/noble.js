# noble.js API Documentation

All methods that issue a call to the API directly will require a `callback`
parameter. This `function` will be invoked with the following arguments when
the specified action is complete:

| Parameter | Type                  | Description                           |
| --------- | --------------------- | ------------------------------------- |
| `err`     | `Error`               | The API error (if applicable)         |
| `data`    | `Object`              | The parsed API result (if applicable) |
| `res`     | `SuperAgent.Response` | The response object generated by [SuperAgent](http://visionmedia.github.io/superagent/) |



## Graph Objects

 * [Vertex](graph/Vertex.md) - The "root" class for all graph objects
 * [Asset](graph/Asset.md) - Files uploaded by users
 * [Community](graph/Community.md) - Communities that users can be a part of
 * [Customer](graph/Customer.md) - NobleHour customers
 * [Event](graph/Event.md) - Events that users can participate in
 * [Group](graph/Group.md) - Subsets of Community users
 * [News](graph/News.md) - News for a community (e.g. blog post)
 * [Opportunity](graph/Opportunity.md) - Opportunities that users can join
 * [Organization](graph/Organization.md) - Organizations that users can join
 * [Submission](graph/Submission.md) - Contribution of content (by user, for community)
 * [Url](graph/Url.md) - Bookmarked link that is shared with a community
 * [User](graph/User.md) - NobleHour user
 * [Alert](graph/Alert.md) - A user's alert



### Client(params) *constructor*

Builds a new instance of the API client. The `new` keyword is **not**
required for this constructor.

**Available Options (params)**

| Parameter       | Type     | Description                             |
| --------------- | -------- | --------------------------------------- |
| `auth`          | `Object` | (same as result of login)               |
| `access_token`  | `String` | Predefined access_token                 |
| `client_id`     | `String` | (if not using `access_token` or `auth`) |
| `client_secret` | `String` | (if not using `access_token` or `auth`) |

**Returns**: `Client` object instance

| Parameter | Type     | Description   |
| --------- | -------- | ------------- |
| `url`     | `String` | API Base URL  |
| `id`      | `String` | Client ID     |
| `secret`  | `String` | Client Secret |


### Client#uri(path)

Constructs a URL for an API call using the configured base URL. This is largely
an internal function.

**Returns**: `String`

| Parameter | Type     | Description               |
| --------- | -------- | ------------------------- |
| `path`    | `String` | Path to some API resource |


### Client#request([method], uri)

Creates a SuperAgent Request object and returns it so it can be further
configured before making the actual request. This is also a largely internal
function.

**Returns**: `SuperAgent.Request` object instance

| Parameter | Type     | Default | Description                        |
| --------- | -------- | ------- | ---------------------------------- |
| `method`  | `String` | `"GET"` | An HTTP verb (`GET`, `POST`, etc.) |
| `uri`     | `String` | `""`    | Will be passed to `Client#url()`   |


### Client#index(callback)

Queries the NobleHour API root, which includes version information.

| Parameter  | Type       | Description |
| ---------- | ---------- | ----------- |
| `callback` | `Function` | *See above* |


### Client#login(username, password, callback)

Performs an API login, which is required for most API calls. Credentials
reflect a NobleHour account only.

| Parameter  | Type       | Description                |
| ---------- | ---------- | -------------------------- |
| `username` | `String`   | NobleHour account username |
| `password` | `String`   | NobleHour account password |
| `callback` | `Function` | *See above*                |


### Client#refresh(callback)

Refreshes the current `auth` object for the user. It assumes you have
either previously logged in or set the `auth` object manually.

| Parameter  | Type       | Description |
| ---------- | ---------- | ----------- |
| `callback` | `Function` | *See above* |


### Client#search(params, callback)

Performs a search via treetopllc/drake, which uses many possible criteria,
including graph traversal, location and full-text indexing.

| Parameter  | Type       | Description                   |
| ---------- | ---------- | ----------------------------- |
| `params`   | `Object`   | *See available options below* |
| `callback` | `Function` | *See above*                   |

**Available Options (params)**

| Parameter | Type      | Default | Description                                         |
| --------- | --------- | ------- | --------------------------------------------------- |
| `types`   | `Array`   | `null`  | Entity types (as `Number`)                          |
| `terms`   | `String`  | `""`    | Full-text search terms (e.g. "keywords")            |
| `lat`     | `Number`  | `null`  | Latitude coordinate                                 |
| `lon`     | `Number`  | `null`  | Longitude coordinate                                |
| `limit`   | `Number`  | `null`  | Limit result size (API currently defaults to `200`) |

**Special Instructions for the `types` Parameter**

The `types` parameter is an array of entity types, which must be `Number`s once
passed into the method. There are helper objects located at `Client.reference`
that you can use to make things more readable. For example:

```javascript
client.search({
    types: [
        client.reference.vertex_types.by_name.EVENT,
        client.reference.vertex_types.by_name.OPPORTUNITY,
        client.reference.vertex_types.by_name.ORGANIZATION
    ]
}, callback);

// or...

var types = client.reference.vertex_types.by_name;

client.search({
    types: [
        types.EVENT,
        types.OPPORTUNITY,
        types.ORGANIZATION
    ]
}, callback);
```


### Client#vertex(id)

Returns a generic [`Vertex`](Vertex.md) object.


### Client#alert(id)

Returns an [`Alert`](Alert.md) object.


### Client#asset(id)

Returns an [`Asset`](Asset.md) object.


### Client#community(id)

Returns a [`Community`](Community.md) object.


### Client#customer(id)

Returns a [`Customer`](Customer.md) object.


### Client#event(id)

Returns an [`Event`](Event.md) object.


### Client#group(id)

Returns an [`Group`](Group.md) object.


### Client#news(id)

Returns an [`News`](News.md) object.


### Client#opportunity(id)

Returns an [`Opportunity`](Opportunity.md) object.


### Client#submission(id)

Returns a [`Submission`](Submission.md) object.


### Client#url(id)

Returns a [`Url`](Url.md) object.


### Client#user(id)

Returns a [`User`](User.md) object.
